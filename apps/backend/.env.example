# ============================================
# VetConnect Backend - Environment Configuration
# ============================================
#
# PRODUCTION DEPLOYMENT CHECKLIST:
# --------------------------------
# [ ] Generate JWT_SECRET: openssl rand -base64 64
# [ ] Set strong POSTGRES_PASSWORD (16+ chars, mixed case, numbers, symbols)
# [ ] Generate REDIS_PASSWORD: openssl rand -base64 32
# [ ] Set CORS_ALLOWED_ORIGINS to production domain(s) - NO localhost!
# [ ] Set SPRING_PROFILES_ACTIVE=prod
# [ ] Review all security settings below
# [ ] Test application startup with production config
# [ ] Verify database migrations run successfully
#
# ============================================

# ============================================
# SPRING PROFILES
# ============================================
# Options: dev, prod
# CRITICAL: Must be 'prod' for production deployment
SPRING_PROFILES_ACTIVE=dev

# ============================================
# DATABASE CONFIGURATION
# ============================================
POSTGRES_DB=vet_connect
POSTGRES_USER=vetconnect_user
# CRITICAL: Generate strong password for production
# Use: openssl rand -base64 32
# Minimum 16 characters, include uppercase, lowercase, numbers, symbols
POSTGRES_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD_MIN_16_CHARS

# Database host (use service name in docker-compose, or localhost for local dev)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# ============================================
# JWT CONFIGURATION
# ============================================
# CRITICAL: Must generate secure secret for production
# REQUIRED: Minimum 64 characters for HS512 algorithm
# Generate with: openssl rand -base64 64
# NEVER use the same secret in dev and production!
JWT_SECRET=REPLACE_THIS_WITH_64_CHAR_MINIMUM_SECRET_FROM_OPENSSL_RAND_BASE64_64

# Token expiration times (in milliseconds)
# 86400000 ms = 24 hours (access token)
# 604800000 ms = 7 days (refresh token)
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# JWT Issuer (should match your domain in production)
JWT_ISSUER_URI=http://localhost:8080

# ============================================
# REDIS CONFIGURATION (Token Blacklist)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
# CRITICAL: Set password for production
# Generate with: openssl rand -base64 32
# Leave empty for local development only
REDIS_PASSWORD=

# ============================================
# CORS CONFIGURATION
# ============================================
# CRITICAL: In production, ONLY list your actual domain(s)
# NEVER use localhost in production
# NEVER use wildcard (*) in production
# Separate multiple origins with commas (no spaces)
# Examples:
#   Production: https://vetconnect.com,https://www.vetconnect.com
#   Staging: https://staging.vetconnect.com
#   Development: http://localhost:5173,http://localhost:3000
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Trusted Proxy IPs (for X-Forwarded-For validation)
# IMPORTANT: Only set this in production behind a load balancer/reverse proxy
# Leave empty for direct connections (development)
# Comma-separated list of proxy IPs that we trust
# Examples:
#   Single proxy: TRUSTED_PROXY_IPS=10.0.1.100
#   Multiple proxies: TRUSTED_PROXY_IPS=10.0.1.100,10.0.1.101
#   Development: TRUSTED_PROXY_IPS= (empty - no proxies)
TRUSTED_PROXY_IPS=


# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
# Directory for uploaded files (profile pictures, etc.)
# Ensure this directory exists and has proper permissions
FILE_UPLOAD_DIR=uploads/profile-pictures

# Maximum file upload size (in bytes)
# 5242880 bytes = 5 MB
MAX_FILE_SIZE=5242880

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Set to false in production to avoid exposing SQL queries in logs
SPRING_JPA_SHOW_SQL=true

# ============================================
# OPTIONAL: PGADMIN CONFIGURATION
# ============================================
# For database management UI (optional, remove in production)
PGADMIN_EMAIL=admin@admin.com
PGADMIN_PASSWORD=admin

# ============================================
# SECURITY NOTES
# ============================================
# 1. NEVER commit actual secrets to version control
# 2. Use different secrets for dev, staging, and production
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Store production secrets in secure vault (AWS Secrets Manager, HashiCorp Vault, etc.)
# 5. Use strong passwords: minimum 16 chars, mixed case, numbers, symbols
# 6. Enable 2FA for all admin accounts
# 7. Monitor logs for suspicious activity
# 8. Keep dependencies updated (run: mvn versions:display-dependency-updates)
#
# ============================================